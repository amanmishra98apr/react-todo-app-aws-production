(this["webpackJsonpmy-todos-app"]=this["webpackJsonpmy-todos-app"]||[]).push([[0],{103:function(e,t){},128:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n.n(a),r=n(35),c=n.n(r),o=(n(74),n(17)),l=n.n(o),i=n(20),d=n(16),u=(n(76),n(10)),b=n(2),j=function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)(u.b,{className:"navbar-brand",to:"/",children:e.title}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(b.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Home"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.b,{className:"nav-link",to:"/todos",children:"Todos"})})]}),Object(b.jsx)(u.b,{className:"nav-link",to:"/",children:"Delete Session Keys"})]})]})})})},p=n(8),h=function(){var e={marginRight:"10px"},t=Object(p.f)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Username"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",defaultValue:"aman19apr"}),Object(b.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Password"}),Object(b.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){return t.push("/todos")},style:e,children:"Hardcode Login"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-warning",style:e,children:"Login with Cognito"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success",style:e,children:"Azure Login"})]})})},m=n(70),x=function(e){var t=Object(p.f)();return Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[e.todo.description," "]}),Object(b.jsx)("td",{children:e.todo.targetDate}),Object(b.jsx)("td",{children:e.todo.done}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){return n=e.todo,console.log(n.id),void t.push({pathname:"/updateTodo",state:n.id});var n},children:"Update"})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete(e.todo)},children:"Delete"})})]})},f=function(e){return Object(b.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,style:{overflow:"scroll"},children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Description"}),Object(b.jsx)("th",{children:"Target Date"}),Object(b.jsx)("th",{children:"Is Completed?"}),Object(b.jsx)("th",{children:"Update"}),Object(b.jsx)("th",{children:"Delete"})]})}),Object(b.jsx)("tbody",{children:e.todos.map((function(t){return Object(b.jsx)(x,{todo:t,onDelete:e.onDelete},t.id)}))})]})},O=function(e){return Object(b.jsx)(f,{todos:e.todos,onDelete:e.onDelete})},g=n(24),v=n.n(g),y=n(127),k=y.AuthenticationDetails,N=y.CognitoUser,w=y.CognitoUserPool;function T(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(l.a.mark((function e(t,n,a){var s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,s=new t({Username:"shubham",Password:"19apr@amMI"}),r=new a({UserPoolId:"us-east-1_jslFKGZNj",ClientId:"6vfmou0jff4m2npepdcddvcgk4"}),new n({Username:"shubham",Pool:r}).authenticateUser(s,{onSuccess:function(e){var t=e.idToken.jwtToken;localStorage.authToken=t,console.log("Done1")},onFailure:function(e){console.log(e)}}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function S(){return(S=Object(i.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(k,N,w),e.abrupt("return",new Promise(function(){var e=Object(i.a)(l.a.mark((function e(a,s){var r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"get"!==t.type||!n){e.next=8;break}return e.next=4,v.a.get(t.url+"".concat(n),{headers:{Authorization:localStorage.authToken}});case 4:r=e.sent,a(r.data),e.next=36;break;case 8:if("get"!==t.type||n){e.next=15;break}return e.next=11,v.a.get(t.url,{headers:{Authorization:localStorage.authToken}});case 11:r=e.sent,a(r.data),e.next=36;break;case 15:if("delete"!==t.type){e.next=22;break}return e.next=18,v.a.delete(t.url+"".concat(n),{headers:{Authorization:localStorage.authToken}});case 18:r=e.sent,a(r.status),e.next=36;break;case 22:if("post"!==t.type){e.next=30;break}return c=n,e.next=26,v.a.post(t.url,c,{headers:{Authorization:localStorage.authToken}});case 26:r=e.sent,a(r.status),e.next=36;break;case 30:if("put"!==t.type){e.next=36;break}return o=n,e.next=34,v.a.put(t.url,o,{headers:{Authorization:localStorage.authToken}});case 34:r=e.sent,a(r.status);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(0),s(e.t0.message);case 41:case"end":return e.stop()}}),e,null,[[0,38]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e,t){return S.apply(this,arguments)},A=n(19),F=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(p.g)(),o=Object(p.f)(),l=c.state;Object(a.useEffect)((function(){C(A.restApis.getsingleTodo,l).then((function(e){r(e)})).catch((function(e){return console.log("err",e)}))}));var i=Object(a.useState)(""),u=Object(d.a)(i,2),j=u[0],h=u[1],m=Object(a.useState)(""),x=Object(d.a)(m,2),f=x[0],O=x[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={username:s.username,description:j||s.title,id:s.id,done:s.done,targetDate:f||s.targetDate};C(A.restApis.updateTodo,t).then((function(e){o.push("/todos")})).catch((function(e){return console.error(e)}))},children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Description"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",defaultValue:s.description,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Target Date"}),Object(b.jsx)("input",{type:"date",className:"form-control",id:"date",defaultValue:s.targetDate,onChange:function(e){return O(e.target.value)}}),Object(b.jsx)("input",{type:"hidden",className:"form-control",id:"username",defaultValue:s.username}),Object(b.jsx)("input",{type:"hidden",className:"form-control",id:"id",defaultValue:s.id}),Object(b.jsx)("input",{type:"hidden",className:"form-control",id:"done",defaultValue:s.done})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})})},z=function(){var e=Object(p.f)();return Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){return e.push("/addtodo")},children:"Add Todo"})})},I=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(d.a)(r,2),o=c[0],l=c[1],i=Object(a.useState)(""),u=Object(d.a)(i,2),j=u[0],h=u[1],m=Object(a.useState)(""),x=Object(d.a)(m,2),f=x[0],O=x[1],g=Object(a.useState)(""),v=Object(d.a)(g,2),y=v[0],k=v[1],N=Object(p.f)();return Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n&&o&&j&&f&&y){var t={username:o,description:j,id:f,done:y,targetDate:n};C(A.restApis.postTodo,t).then((function(e){N.push("/todos")})).catch((function(e){return console.log(e)}))}else alert("All fields are required")},children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("h4",{children:" Add a Todo "})," "]})," ",Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("input",{type:"text",placeholder:"Username",className:"form-control",id:"username",onChange:function(e){return l(e.target.value)}})," ",Object(b.jsx)("input",{type:"text",placeholder:"Description",className:"form-control",id:"description",onChange:function(e){return h(e.target.value)}})," ",Object(b.jsx)("input",{type:"text",placeholder:"Id",className:"form-control",id:"id",onChange:function(e){return O(e.target.value)}})," ",Object(b.jsx)("input",{type:"text",placeholder:"Is Completed?",className:"form-control",id:"done",onChange:function(e){return k(e.target.value)}})," ",Object(b.jsx)("input",{type:"date",placeholder:"Target Date",className:"form-control",id:"targetDate",onChange:function(e){return s(e.target.value)}})," "]}),Object(b.jsxs)("button",{type:"submit",className:"btn btn-primary",children:["Add"," "]})," "]})},U=n(30),L=function(e){var t={columns:[{label:"#",field:"id",sort:"asc"},{label:"First",field:"first",sort:"asc"},{label:"Last",field:"last",sort:"asc"},{label:"Handle",field:"handle",sort:"asc"}],rows:[{id:1,first:"Mark",last:"Otto",handle:"@mdo"},{id:1,first:"Mark",last:"Otto",handle:Object(b.jsx)("button",{children:"click"})}]};return Object(b.jsxs)(U.g,{scrollY:!0,children:[Object(b.jsx)(U.i,{columns:t.columns}),Object(b.jsx)(U.h,{rows:t.rows})]})};var P=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],r=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.id),e.next=3,C(A.restApis.deleteTodo,t.id);case 3:a=e.sent,console.log("status",a),a?s(n.filter((function(e){return e!==t}))):console.log("not deleted");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log("hi use effect hook"),c()}),[n]);var c=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(A.restApis.getTodoList);case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(j,{title:"My Todos List"}),Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{exact:!0,path:"/",render:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(h,{})})}}),Object(b.jsxs)(p.a,{exact:!0,path:"/todos",children:[Object(b.jsx)(O,{todos:n,onDelete:r}),Object(b.jsx)(z,{})]}),Object(b.jsx)(p.a,{exact:!0,path:"/updateTodo",children:Object(b.jsx)(F,{})}),Object(b.jsx)(p.a,{exact:!0,path:"/new",children:Object(b.jsx)(L,{})}),Object(b.jsx)(p.a,{exact:!0,path:"/addtodo",children:Object(b.jsx)(I,{})})]})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,132)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root")),H()},19:function(e){e.exports=JSON.parse('{"restApis":{"getTodoList":{"url":"https://n7x9otok8e.execute-api.us-east-1.amazonaws.com/dev/mytodos","type":"get"},"getsingleTodo":{"url":"https://n7x9otok8e.execute-api.us-east-1.amazonaws.com/dev/mytodos/","type":"get"},"postTodo":{"url":"https://n7x9otok8e.execute-api.us-east-1.amazonaws.com/dev/mytodos","type":"post"},"updateTodo":{"url":"https://n7x9otok8e.execute-api.us-east-1.amazonaws.com/dev/mytodos","type":"put"},"deleteTodo":{"url":"https://n7x9otok8e.execute-api.us-east-1.amazonaws.com/dev/mytodos/","type":"delete"}}}')},74:function(e,t,n){},76:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.70bcb80f.chunk.js.map